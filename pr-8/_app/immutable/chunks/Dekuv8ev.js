var X=Object.defineProperty;var F=s=>{throw TypeError(s)};var k=(s,e,r)=>e in s?X(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var Y=(s,e,r)=>k(s,typeof e!="symbol"?e+"":e,r),C=(s,e,r)=>e.has(s)||F("Cannot "+r);var i=(s,e,r)=>(C(s,e,"read from private field"),r?r.call(s):e.get(s)),_=(s,e,r)=>e.has(s)?F("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),U=(s,e,r,t)=>(C(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{ak as j,al as ee,a6 as I,U as se,h as K,R as q,i as T,m as re,a0 as te,am as ie,b as ne,I as ae,E as fe,an as ue,Q as ce,a7 as oe,l as le,k as z,ao as D,ap as de,aq as H,g as E,ar as he,as as pe,J as B,at as _e,O as ve,au as be,u as me,x as Se,av as Pe,aw as we,F as ge,ax as xe,ay as $,W as G,az as w,S as J,aA as Q,aB as ye,aC as Ae}from"./B178abl5.js";var d,h,l,v,g,x,O;class Ee{constructor(e,r=!0){Y(this,"anchor");_(this,d,new Map);_(this,h,new Map);_(this,l,new Map);_(this,v,new Set);_(this,g,!0);_(this,x,()=>{var e=j;if(i(this,d).has(e)){var r=i(this,d).get(e),t=i(this,h).get(r);if(t)ee(t),i(this,v).delete(r);else{var n=i(this,l).get(r);n&&(i(this,h).set(r,n.effect),i(this,l).delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),t=n.effect)}for(const[a,u]of i(this,d)){if(i(this,d).delete(a),a===e)break;const f=i(this,l).get(u);f&&(I(f.effect),i(this,l).delete(u))}for(const[a,u]of i(this,h)){if(a===r||i(this,v).has(a))continue;const f=()=>{if(Array.from(i(this,d).values()).includes(a)){var p=document.createDocumentFragment();te(u,p),p.append(K()),i(this,l).set(a,{effect:u,fragment:p})}else I(u);i(this,v).delete(a),i(this,h).delete(a)};i(this,g)||!t?(i(this,v).add(a),se(u,f,!1)):f()}}});_(this,O,e=>{i(this,d).delete(e);const r=Array.from(i(this,d).values());for(const[t,n]of i(this,l))r.includes(t)||(I(n.effect),i(this,l).delete(t))});this.anchor=e,U(this,g,r)}ensure(e,r){var t=j,n=ie();if(r&&!i(this,h).has(e)&&!i(this,l).has(e))if(n){var a=document.createDocumentFragment(),u=K();a.append(u),i(this,l).set(e,{effect:q(()=>r(u)),fragment:a})}else i(this,h).set(e,q(()=>r(this.anchor)));if(i(this,d).set(t,e),n){for(const[f,c]of i(this,h))f===e?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[f,c]of i(this,l))f===e?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(i(this,x)),t.ondiscard(i(this,O))}else T&&(this.anchor=re),i(this,x).call(this)}}d=new WeakMap,h=new WeakMap,l=new WeakMap,v=new WeakMap,g=new WeakMap,x=new WeakMap,O=new WeakMap;function Le(s,e,r=!1){T&&ae();var t=new Ee(s),n=r?fe:0;function a(u,f){if(T){const p=ue(s)===ce;if(u===p){var c=oe();le(c),t.anchor=c,z(!1),t.ensure(u,f),z(!0);return}}t.ensure(u,f)}ne(()=>{var u=!1;e((f,c=!0)=>{u=!0,a(c,f)}),u||a(!1,null)},n)}let A=!1;function Oe(s){var e=A;try{return A=!1,[s(),A]}finally{A=e}}const Re={get(s,e){if(!s.exclude.includes(e))return E(s.version),e in s.special?s.special[e]():s.props[e]},set(s,e,r){if(!(e in s.special)){var t=B;try{G(s.parent_effect),s.special[e]=Te({get[e](){return s.props[e]}},e,H)}finally{G(t)}}return s.special[e](r),$(s.version),!0},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},deleteProperty(s,e){return s.exclude.includes(e)||(s.exclude.push(e),$(s.version)),!0},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Me(s,e){return new Proxy({props:s,exclude:e,special:{},version:ve(0),parent_effect:B},Re)}const Ie={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let n=s.props[t];w(n)&&(n=n());const a=D(n,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(w(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const n=D(t,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(s,e){if(e===J||e===Q)return!1;for(let r of s.props)if(w(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(w(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function Ne(...s){return new Proxy({props:s},Ie)}function Te(s,e,r,t){var M;var n=!Se||(r&Pe)!==0,a=(r&be)!==0,u=(r&ye)!==0,f=t,c=!0,p=()=>(c&&(c=!1,f=u?me(t):t),f),m;if(a){var W=J in s||Q in s;m=((M=D(s,e))==null?void 0:M.set)??(W&&e in s?o=>s[e]=o:void 0)}var S,L=!1;a?[S,L]=Oe(()=>s[e]):S=s[e],S===void 0&&t!==void 0&&(S=p(),m&&(n&&de(),m(S)));var b;if(n?b=()=>{var o=s[e];return o===void 0?p():(c=!0,o)}:b=()=>{var o=s[e];return o!==void 0&&(f=void 0),o===void 0?f:o},n&&(r&H)===0)return b;if(m){var Z=s.$$legacy;return(function(o,y){return arguments.length>0?((!n||!y||Z||L)&&m(y?b():o),o):b()})}var R=!1,P=((r&we)!==0?ge:xe)(()=>(R=!1,b()));a&&E(P);var V=B;return(function(o,y){if(arguments.length>0){const N=y?E(P):n&&a?he(o):o;return pe(P,N),R=!0,f!==void 0&&(f=N),o}return Ae&&R||(V.f&_e)!==0?P.v:E(P)})}export{Ee as B,Le as i,Me as l,Te as p,Ne as s};
